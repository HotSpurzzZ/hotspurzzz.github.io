<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-10-11T08:20:23.271Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ubuntu虚拟机实现主机代理</title>
    <link href="http://example.com/2021/10/11/Ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%9E%E7%8E%B0%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86/"/>
    <id>http://example.com/2021/10/11/Ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%9E%E7%8E%B0%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86/</id>
    <published>2021-10-11T08:01:18.000Z</published>
    <updated>2021-10-11T08:20:23.271Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ubuntu虚拟机使用主机代理实现翻墙"><a href="#ubuntu虚拟机使用主机代理实现翻墙" class="headerlink" title="ubuntu虚拟机使用主机代理实现翻墙"></a>ubuntu虚拟机使用主机代理实现翻墙</h1><p>实现在ubuntu虚拟机中，浏览器及终端两个方面的网络代理</p><h1 id="一、浏览器实现代理"><a href="#一、浏览器实现代理" class="headerlink" title="一、浏览器实现代理"></a>一、浏览器实现代理</h1><p>windows主机中</p><p><code>ipconfig</code></p><p>记住WLAN下的IPV4地址</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled.png" alt="Untitled"></p><p>在代理软件中开启局域网共享，并记住Http端口及Socks5端口号</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled%201.png" alt="Untitled"></p><p>Ubuntu虚拟机中</p><p>之后在系统网络设置中，Network Proxy设置如下</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled%202.png" alt="Untitled"></p><p>之后即可在虚拟机浏览器中访问Google等网站。</p><h1 id="二、终端实现代理"><a href="#二、终端实现代理" class="headerlink" title="二、终端实现代理"></a>二、终端实现代理</h1><p>先安装：</p><p><code>apt-get install proxychains</code></p><p>之后设置代理配置</p><p><code>gedit /etc/proxychains.conf</code></p><p>将最后一行socks4注释，加上socks5，并附上刚才的IP地址及端口号</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled%203.png" alt="Untitled"></p><p>最后需要使用<code>find /usr/lib/ -name libproxychains.so.3 -print</code>命令输出路径</p><p>再执行<code>gedit /usr/bin/proxychains</code></p><p>将<code>export LD_PRELOAD=libproxychains.so.3</code>改为<code>export LD_PRELOAD=刚刚获得的路径</code></p><p>使用代理时只需在命令前加上<code>proxychains</code>即可</p><p>测试：</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled%204.png" alt="Untitled"></p><p>附：命令行取消代理（有时可能会用到）</p><p><code>env | grep -i proxy</code>查看当前命令行代理设置</p><p><img src="ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%BF%BB%E5%A2%99%20/Untitled%205.png" alt="Untitled"></p><p><code>unset HTTP_PROXY</code></p><p>注意大小写</p>]]></content>
    
    
    <summary type="html">实现在ubuntu虚拟机中，浏览器及终端两个方面的网络代理</summary>
    
    
    
    <category term="Ubuntu" scheme="http://example.com/categories/Ubuntu/"/>
    
    
    <category term="Ubuntu" scheme="http://example.com/tags/Ubuntu/"/>
    
    <category term="代理" scheme="http://example.com/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
</feed>
